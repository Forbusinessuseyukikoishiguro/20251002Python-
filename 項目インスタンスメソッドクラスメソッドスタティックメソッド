# ğŸ° ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰å®Œå…¨ã‚¬ã‚¤ãƒ‰

**ãµã‚ãµã‚å¤§ç¦åº—ã®ã†ã•ã†ã•åº—é•·ã§å­¦ã¶ã€æ–‡æ³•ã¨ä½¿ã†ç†ç”±7é¸**

---

## ğŸ“š ç›®æ¬¡

1. [ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯](#1-ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯)
2. [æ–‡æ³•ã¨åŸºæœ¬çš„ãªæ›¸ãæ–¹](#2-æ–‡æ³•ã¨åŸºæœ¬çš„ãªæ›¸ãæ–¹)
3. [ä½¿ã†ç†ç”±7é¸](#3-ä½¿ã†ç†ç”±7é¸)
4. [3ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Œå…¨æ¯”è¼ƒ](#4-3ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Œå…¨æ¯”è¼ƒ)
5. [å®Ÿè·µä¾‹ï¼šãµã‚ãµã‚å¤§ç¦åº—](#5-å®Ÿè·µä¾‹ãµã‚ãµã‚å¤§ç¦åº—)
6. [ã‚ˆãã‚ã‚‹é–“é•ã„](#6-ã‚ˆãã‚ã‚‹é–“é•ã„)
7. [ã„ã¤ä½¿ã†ã¹ãã‹åˆ¤æ–­ãƒãƒ£ãƒ¼ãƒˆ](#7-ã„ã¤ä½¿ã†ã¹ãã‹åˆ¤æ–­ãƒãƒ£ãƒ¼ãƒˆ)

---

## 1. ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯

### ğŸ“– ä¸€è¨€ã§è¨€ã†ã¨

**ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ = ã‚¯ãƒ©ã‚¹ã«å±ã™ã‚‹ã€ŒãŸã ã®é–¢æ•°ã€**

- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆ`self`ï¼‰ã‚’ä½¿ã‚ãªã„
- ã‚¯ãƒ©ã‚¹ï¼ˆ`cls`ï¼‰ã‚‚ä½¿ã‚ãªã„
- ã§ã‚‚ã‚¯ãƒ©ã‚¹ã«é–¢é€£ã—ã¦ã„ã‚‹
- åå‰ç©ºé–“ã®æ•´ç†ã«ä¾¿åˆ©

### ğŸ¯ ãŸã„ç„¼ãå±‹ã§ã®ä¾‹ãˆ

```
ãŸã„ç„¼ãå±‹ã®å¨æˆ¿ã«ã‚ã‚‹ã€Œå…±ç”¨ãƒ„ãƒ¼ãƒ«ã€

ğŸª ãŸã„ç„¼ãå±‹
â”œâ”€ å„åº—å“¡ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰ãŒæŒã¤é“å…·
â”‚  â”œâ”€ è‡ªåˆ†ã®ã‚¨ãƒ—ãƒ­ãƒ³ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼‰
â”‚  â””â”€ è‡ªåˆ†ã®ä½œæ¥­ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
â”‚
â”œâ”€ å…¨åº—å“¡å…±é€šã®é“å…·ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰
â”‚  â”œâ”€ å…±é€šãƒ¬ã‚·ãƒ”ï¼ˆã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼‰
â”‚  â””â”€ å…¨ä½“ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
â”‚
â””â”€ å…±ç”¨ãƒ„ãƒ¼ãƒ«ï¼ˆã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
   â”œâ”€ æ¸©åº¦è¨ˆ â† èª°ã§ã‚‚ä½¿ãˆã‚‹
   â”œâ”€ ã‚¿ã‚¤ãƒãƒ¼ â† ç‰¹å®šã®äººã«ç´ã¥ã‹ãªã„
   â””â”€ è¨ˆç®—æ©Ÿ â† ãŸã ã®ãƒ„ãƒ¼ãƒ«
```

---

## 2. æ–‡æ³•ã¨åŸºæœ¬çš„ãªæ›¸ãæ–¹

### ğŸ’» åŸºæœ¬æ§‹æ–‡

```python
class ã‚¯ãƒ©ã‚¹å:
    
    @staticmethod  # â† ã“ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒå¿…é ˆï¼
    def ãƒ¡ã‚½ãƒƒãƒ‰å(å¼•æ•°1, å¼•æ•°2, ...):  # self ã‚‚ cls ã‚‚ä¸è¦
        """å‡¦ç†å†…å®¹"""
        # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚„ã‚¯ãƒ©ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã¯ä½¿ã‚ãªã„
        # ãŸã ã®è¨ˆç®—ã‚„å‡¦ç†ã‚’è¡Œã†
        return çµæœ
```

### ğŸ” 3ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®æ–‡æ³•æ¯”è¼ƒ

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    total_shops = 0  # ã‚¯ãƒ©ã‚¹å¤‰æ•°
    
    def __init__(self, owner_name):
        self.owner_name = owner_name  # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°
    
    # ==========================================
    # 1ï¸âƒ£ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆé€šå¸¸ï¼‰
    # ==========================================
    def sell(self, quantity):
        """
        ç¬¬ä¸€å¼•æ•°: selfï¼ˆå¿…é ˆï¼‰
        
        ä½¿ãˆã‚‹ã‚‚ã®:
        - self.xxxï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ï¼‰
        - self.ãƒ¡ã‚½ãƒƒãƒ‰()ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
        - ClassName.xxxï¼ˆã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼‰
        """
        print(f"{self.owner_name}åº—é•·ãŒ{quantity}å€‹è²©å£²")
        return quantity * 150
    
    # ==========================================
    # 2ï¸âƒ£ ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰
    # ==========================================
    @classmethod
    def get_total(cls):
        """
        ç¬¬ä¸€å¼•æ•°: clsï¼ˆå¿…é ˆï¼‰
        ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼: @classmethod
        
        ä½¿ãˆã‚‹ã‚‚ã®:
        - cls.xxxï¼ˆã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼‰
        - cls.ãƒ¡ã‚½ãƒƒãƒ‰()ï¼ˆã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
        """
        return f"ç·åº—èˆ—æ•°: {cls.total_shops}åº—"
    
    # ==========================================
    # 3ï¸âƒ£ ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰
    # ==========================================
    @staticmethod
    def calculate_tax(price):
        """
        ç¬¬ä¸€å¼•æ•°: ãªã—ï¼ˆè‡ªç”±ã«æ±ºã‚ã‚‰ã‚Œã‚‹ï¼‰
        ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼: @staticmethod
        
        ä½¿ãˆã‚‹ã‚‚ã®:
        - å¼•æ•°ã¨ã—ã¦æ¸¡ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®ã¿
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã‚‚ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚‚ä½¿ã‚ãªã„
        """
        return int(price * 1.1)


# ==========================================
# å‘¼ã³å‡ºã—æ–¹ã®é•ã„
# ==========================================

# ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã‚‰å‘¼ã¶
shop = DaifukuShop("ã†ã•ã†ã•")
shop.sell(5)  # self ã¯è‡ªå‹•ã§æ¸¡ã•ã‚Œã‚‹

# ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: ã‚¯ãƒ©ã‚¹ã‹ã‚‰å‘¼ã¹ã‚‹ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦ï¼‰
print(DaifukuShop.get_total())  # cls ã¯è‡ªå‹•ã§æ¸¡ã•ã‚Œã‚‹

# ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰: ã‚¯ãƒ©ã‚¹ã‹ã‚‰å‘¼ã¹ã‚‹ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦ï¼‰
tax_price = DaifukuShop.calculate_tax(1000)  # å¼•æ•°ã ã‘æ¸¡ã™
print(f"ç¨è¾¼: Â¥{tax_price}")

# ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã‚‰ã‚‚å‘¼ã¹ã‚‹
# ï¼ˆã§ã‚‚ã‚¯ãƒ©ã‚¹ã‹ã‚‰å‘¼ã¶ã®ãŒä¸€èˆ¬çš„ï¼‰
tax_price2 = shop.calculate_tax(1000)
```

### ğŸ“Š æ–‡æ³•ã®å®Œå…¨æ¯”è¼ƒè¡¨

| é …ç›® | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ |
|------|-------------------|--------------|-------------------|
| **ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼** | ãªã— | `@classmethod` | `@staticmethod` |
| **ç¬¬ä¸€å¼•æ•°** | `self`ï¼ˆå¿…é ˆï¼‰ | `cls`ï¼ˆå¿…é ˆï¼‰ | ãªã—ï¼ˆè‡ªç”±ï¼‰ |
| **å‘¼ã³å‡ºã—** | `obj.method()` | `Class.method()` | `Class.method()` |
| **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°** | âœ… ä½¿ãˆã‚‹ | âŒ ä½¿ãˆãªã„ | âŒ ä½¿ãˆãªã„ |
| **ã‚¯ãƒ©ã‚¹å¤‰æ•°** | âœ… ä½¿ãˆã‚‹ | âœ… ä½¿ãˆã‚‹ | âŒ ä½¿ãˆãªã„ |
| **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¿…è¦ï¼Ÿ** | âœ… å¿…è¦ | âŒ ä¸è¦ | âŒ ä¸è¦ |

---

## 3. ä½¿ã†ç†ç”±7é¸

### ç†ç”±1ï¸âƒ£: åå‰ç©ºé–“ã®æ•´ç†ï¼ˆæœ€é‡è¦ï¼ï¼‰

**å•é¡Œ:** é–¢é€£ã™ã‚‹é–¢æ•°ã‚’ã©ã“ã«ç½®ãã¹ãã‹ï¼Ÿ

```python
# âŒ æ‚ªã„ä¾‹: ã‚¯ãƒ©ã‚¹ã®å¤–ã«é–¢æ•°ã‚’æ›¸ã
def validate_price(price):
    """ä¾¡æ ¼ã®æ¤œè¨¼"""
    return price > 0

def calculate_tax(price):
    """ç¨è¾¼ä¾¡æ ¼ã®è¨ˆç®—"""
    return price * 1.1

def format_currency(amount):
    """é€šè²¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
    return f"Â¥{amount:,}"

class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    pass

# å•é¡Œç‚¹:
# - é–¢æ•°ãŒæ•£ã‚‰ã°ã£ã¦ã„ã‚‹
# - ã©ã®é–¢æ•°ãŒDaifukuShopã«é–¢é€£ã—ã¦ã„ã‚‹ã‹ä¸æ˜
# - åå‰ã®è¡çªãŒèµ·ãã‚„ã™ã„
```

```python
# âœ… è‰¯ã„ä¾‹: ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã§æ•´ç†
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    @staticmethod
    def validate_price(price):
        """ä¾¡æ ¼ã®æ¤œè¨¼"""
        return price > 0
    
    @staticmethod
    def calculate_tax(price):
        """ç¨è¾¼ä¾¡æ ¼ã®è¨ˆç®—"""
        return price * 1.1
    
    @staticmethod
    def format_currency(amount):
        """é€šè²¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
        return f"Â¥{amount:,}"

# ãƒ¡ãƒªãƒƒãƒˆ:
# - é–¢é€£ã™ã‚‹é–¢æ•°ãŒã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã¾ã£ã¦ã„ã‚‹
# - DaifukuShop.validate_price() ã§å‘¼ã¹ã‚‹
# - åå‰ç©ºé–“ãŒæ•´ç†ã•ã‚Œã‚‹
```

### ç†ç”±2ï¸âƒ£: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ¤œè¨¼ï¼‰é–¢æ•°

**å•é¡Œ:** å…¥åŠ›å€¤ã®ãƒã‚§ãƒƒã‚¯ã‚’ã©ã“ã§è¡Œã†ã‹ï¼Ÿ

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    def __init__(self, owner_name, stock):
        # ã“ã“ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        if not DaifukuShop.validate_name(owner_name):
            raise ValueError("åº—é•·åãŒä¸æ­£ã§ã™")
        
        if not DaifukuShop.validate_stock(stock):
            raise ValueError("åœ¨åº«æ•°ãŒä¸æ­£ã§ã™")
        
        self.owner_name = owner_name
        self.stock = stock
    
    @staticmethod
    def validate_name(name):
        """
        åº—é•·åã®æ¤œè¨¼
        
        ç†ç”±:
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‹å‰ã«ãƒã‚§ãƒƒã‚¯ã—ãŸã„
        - self ã‚‚ cls ã‚‚ä¸è¦
        - ç´”ç²‹ãªæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
        """
        return isinstance(name, str) and len(name) > 0
    
    @staticmethod
    def validate_stock(stock):
        """
        åœ¨åº«æ•°ã®æ¤œè¨¼
        
        ç†ç”±:
        - ç‹¬ç«‹ã—ãŸæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
        - ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„
        """
        return isinstance(stock, int) and stock >= 0
    
    @staticmethod
    def validate_price(price):
        """ä¾¡æ ¼ã®æ¤œè¨¼"""
        return isinstance(price, (int, float)) and price > 0


# ä½¿ç”¨ä¾‹
print(DaifukuShop.validate_name("ã†ã•ã†ã•"))  # True
print(DaifukuShop.validate_stock(20))        # True
print(DaifukuShop.validate_stock(-5))        # False

# ãƒ¡ãƒªãƒƒãƒˆ:
# 1. ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‹å‰ã«æ¤œè¨¼ã§ãã‚‹
# 2. å˜ä½“ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ã„
# 3. ä»–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã‚‚ä½¿ãˆã‚‹
```

### ç†ç”±3ï¸âƒ£: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ï¼ˆè£œåŠ©é–¢æ•°ï¼‰

**å•é¡Œ:** ã‚¯ãƒ©ã‚¹ã«é–¢é€£ã™ã‚‹ä¾¿åˆ©ãªè¨ˆç®—ã‚’ã©ã“ã«æ›¸ãã‹ï¼Ÿ

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    @staticmethod
    def calculate_tax(price, tax_rate=0.1):
        """
        ç¨è¾¼ä¾¡æ ¼ã‚’è¨ˆç®—
        
        ç†ç”±:
        - å˜ç´”ãªè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã‚ãªã„
        - ã„ã‚ã‚“ãªå ´æ‰€ã‹ã‚‰å‘¼ã³ãŸã„
        """
        return int(price * (1 + tax_rate))
    
    @staticmethod
    def calculate_discount(price, discount_rate):
        """
        å‰²å¼•ä¾¡æ ¼ã‚’è¨ˆç®—
        
        ç†ç”±:
        - ç´”ç²‹ãªè¨ˆç®—
        - ã©ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚‚å±ã•ãªã„
        """
        return int(price * (1 - discount_rate))
    
    @staticmethod
    def format_yen(amount):
        """
        å††è¨˜å·ä»˜ãã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
        
        ç†ç”±:
        - å˜ç´”ãªæ–‡å­—åˆ—æ•´å½¢
        - è£œåŠ©çš„ãªæ©Ÿèƒ½
        """
        return f"Â¥{amount:,}"
    
    @staticmethod
    def parse_date(date_string):
        """
        æ—¥ä»˜æ–‡å­—åˆ—ã‚’ãƒ‘ãƒ¼ã‚¹
        
        ç†ç”±:
        - å¤‰æ›å‡¦ç†
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ä¾å­˜ã—ãªã„
        """
        from datetime import datetime
        return datetime.strptime(date_string, "%Y-%m-%d")


# ä½¿ç”¨ä¾‹
price = 1000
tax_price = DaifukuShop.calculate_tax(price)
discount_price = DaifukuShop.calculate_discount(price, 0.1)

print(DaifukuShop.format_yen(tax_price))      # Â¥1,100
print(DaifukuShop.format_yen(discount_price))  # Â¥900

# ãƒ¡ãƒªãƒƒãƒˆ:
# 1. è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã¾ã‚‹
# 2. å†åˆ©ç”¨ã—ã‚„ã™ã„
# 3. ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„
```

### ç†ç”±4ï¸âƒ£: ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è£œåŠ©

**å•é¡Œ:** ã„ã‚ã„ã‚ãªæ–¹æ³•ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚ŠãŸã„

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    def __init__(self, owner_name, stock):
        # å…¥åŠ›æ¤œè¨¼ï¼ˆã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ï¼‰
        if not DaifukuShop._validate_inputs(owner_name, stock):
            raise ValueError("å…¥åŠ›å€¤ãŒä¸æ­£ã§ã™")
        
        self.owner_name = owner_name
        self.stock = stock
    
    @classmethod
    def from_dict(cls, data):
        """
        è¾æ›¸ã‹ã‚‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆï¼ˆã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
        
        å†…éƒ¨ã§ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨
        """
        # ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã§å‰å‡¦ç†
        cleaned_data = cls._clean_dict_data(data)
        
        return cls(
            owner_name=cleaned_data["owner"],
            stock=cleaned_data["stock"]
        )
    
    @staticmethod
    def _validate_inputs(owner_name, stock):
        """
        å…¥åŠ›å€¤ã®æ¤œè¨¼ï¼ˆã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
        
        ç†ç”±:
        - ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰å‘¼ã°ã‚Œã‚‹
        - ç´”ç²‹ãªæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
        - cls ã‚‚ self ã‚‚ä¸è¦
        """
        if not isinstance(owner_name, str) or len(owner_name) == 0:
            return False
        if not isinstance(stock, int) or stock < 0:
            return False
        return True
    
    @staticmethod
    def _clean_dict_data(data):
        """
        è¾æ›¸ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰
        
        ç†ç”±:
        - ãƒ‡ãƒ¼ã‚¿å¤‰æ›å‡¦ç†
        - ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®è£œåŠ©
        - ç‹¬ç«‹ã—ãŸå‡¦ç†
        """
        return {
            "owner": data.get("owner", "").strip(),
            "stock": int(data.get("stock", 0))
        }


# ä½¿ç”¨ä¾‹
data = {"owner": " ã†ã•ã†ã• ", "stock": "20"}
shop = DaifukuShop.from_dict(data)
print(f"{shop.owner_name}åº—é•·ã€åœ¨åº«{shop.stock}å€‹")

# ãƒ¡ãƒªãƒƒãƒˆ:
# 1. ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²åˆ†æ‹…
# 2. å‡¦ç†ã‚’å°ã•ãªé–¢æ•°ã«åˆ†è§£ã§ãã‚‹
# 3. ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„
```

### ç†ç”±5ï¸âƒ£: å®šæ•°é–¢é€£ã®è¨ˆç®—

**å•é¡Œ:** å®šæ•°ã‹ã‚‰æ´¾ç”Ÿã™ã‚‹å€¤ã‚’è¨ˆç®—ã—ãŸã„

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    # å®šæ•°ï¼ˆã‚¯ãƒ©ã‚¹å¤‰æ•°ï¼‰
    BASE_PRICE = 150          # åŸºæœ¬ä¾¡æ ¼
    PREMIUM_MULTIPLIER = 1.5  # ãƒ—ãƒ¬ãƒŸã‚¢ãƒ å€ç‡
    DISCOUNT_RATE = 0.1       # å‰²å¼•ç‡
    
    @staticmethod
    def get_premium_price():
        """
        ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¾¡æ ¼ã‚’è¨ˆç®—
        
        ç†ç”±:
        - å®šæ•°ã‹ã‚‰è¨ˆç®—
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ä¾å­˜ã—ãªã„
        - ã§ã‚‚ã‚¯ãƒ©ã‚¹ã«é–¢é€£ã—ã¦ã„ã‚‹
        """
        return int(DaifukuShop.BASE_PRICE * DaifukuShop.PREMIUM_MULTIPLIER)
    
    @staticmethod
    def get_discount_price():
        """
        å‰²å¼•ä¾¡æ ¼ã‚’è¨ˆç®—
        
        ç†ç”±:
        - å®šæ•°ã‹ã‚‰è¨ˆç®—
        - è¨­å®šå€¤ã®çµ„ã¿åˆã‚ã›
        """
        return int(DaifukuShop.BASE_PRICE * (1 - DaifukuShop.DISCOUNT_RATE))
    
    @staticmethod
    def get_price_range():
        """
        ä¾¡æ ¼å¸¯ã‚’è¿”ã™
        
        ç†ç”±:
        - è¤‡æ•°ã®å®šæ•°ã‚’çµ„ã¿åˆã‚ã›ã‚‹
        - è¨ˆç®—çµæœã®ã¿ã‚’è¿”ã™
        """
        min_price = DaifukuShop.get_discount_price()
        max_price = DaifukuShop.get_premium_price()
        return (min_price, max_price)


# ä½¿ç”¨ä¾‹
print(f"åŸºæœ¬ä¾¡æ ¼: Â¥{DaifukuShop.BASE_PRICE}")
print(f"ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¾¡æ ¼: Â¥{DaifukuShop.get_premium_price()}")
print(f"å‰²å¼•ä¾¡æ ¼: Â¥{DaifukuShop.get_discount_price()}")
print(f"ä¾¡æ ¼å¸¯: Â¥{DaifukuShop.get_price_range()[0]} - Â¥{DaifukuShop.get_price_range()[1]}")

# ãƒ¡ãƒªãƒƒãƒˆ:
# 1. å®šæ•°ã¨ãã®è¨ˆç®—ã‚’ã¾ã¨ã‚ã‚‰ã‚Œã‚‹
# 2. ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã‚’é¿ã‘ã‚‰ã‚Œã‚‹
# 3. å¤‰æ›´ãŒå®¹æ˜“
```

### ç†ç”±6ï¸âƒ£: å‹å¤‰æ›ãƒ»ãƒ‡ãƒ¼ã‚¿å¤‰æ›

**å•é¡Œ:** ã„ã‚ã„ã‚ãªå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã„ãŸã„

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    @staticmethod
    def parse_stock_string(stock_str):
        """
        æ–‡å­—åˆ—ã‚’åœ¨åº«æ•°ã«å¤‰æ›
        
        ç†ç”±:
        - ç´”ç²‹ãªå¤‰æ›å‡¦ç†
        - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦
        
        ä¾‹:
        "20å€‹" â†’ 20
        "15" â†’ 15
        "åœ¨åº«: 30" â†’ 30
        """
        import re
        # æ•°å­—ã ã‘ã‚’æŠ½å‡º
        numbers = re.findall(r'\d+', stock_str)
        if numbers:
            return int(numbers[0])
        return 0
    
    @staticmethod
    def format_shop_data(owner_name, stock):
        """
        åº—èˆ—ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
        
        ç†ç”±:
        - ãƒ‡ãƒ¼ã‚¿æ•´å½¢
        - è¡¨ç¤ºç”¨ã®å¤‰æ›
        """
        return {
            "åº—é•·": owner_name,
            "åœ¨åº«": f"{stock}å€‹",
            "çŠ¶æ…‹": "å–¶æ¥­ä¸­" if stock > 0 else "å£²ã‚Šåˆ‡ã‚Œ"
        }
    
    @staticmethod
    def csv_to_dict(csv_line):
        """
        CSVè¡Œã‚’è¾æ›¸ã«å¤‰æ›
        
        ç†ç”±:
        - ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
        - å½¢å¼å¤‰æ›
        """
        parts = csv_line.strip().split(',')
        if len(parts) >= 2:
            return {
                "owner": parts[0],
                "stock": int(parts[1])
            }
        return None


# ä½¿ç”¨ä¾‹
stock1 = DaifukuShop.parse_stock_string("20å€‹")
stock2 = DaifukuShop.parse_stock_string("åœ¨åº«: 15")
print(f"åœ¨åº«1: {stock1}å€‹")  # 20å€‹
print(f"åœ¨åº«2: {stock2}å€‹")  # 15å€‹

data = DaifukuShop.format_shop_data("ã†ã•ã†ã•", 25)
print(data)  # {'åº—é•·': 'ã†ã•ã†ã•', 'åœ¨åº«': '25å€‹', 'çŠ¶æ…‹': 'å–¶æ¥­ä¸­'}

csv = "ã‚‚ã¡ã‚‚ã¡,30"
shop_data = DaifukuShop.csv_to_dict(csv)
print(shop_data)  # {'owner': 'ã‚‚ã¡ã‚‚ã¡', 'stock': 30}

# ãƒ¡ãƒªãƒƒãƒˆ:
# 1. ãƒ‡ãƒ¼ã‚¿å¤‰æ›ã‚’ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ã‚‰ã‚Œã‚‹
# 2. å…¥åŠ›å½¢å¼ãŒæŸ”è»Ÿ
# 3. ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’ä¸€ç®‡æ‰€ã«
```

### ç†ç”±7ï¸âƒ£: ãƒ†ã‚¹ãƒˆã®å®¹æ˜“ã•

**å•é¡Œ:** ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’æ›¸ãã‚„ã™ãã—ãŸã„

```python
class DaifukuShop:
    """å¤§ç¦åº—ã‚¯ãƒ©ã‚¹"""
    
    @staticmethod
    def calculate_profit(revenue, cost):
        """
        åˆ©ç›Šã‚’è¨ˆç®—
        
        ç†ç”±:
        - ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ï¼ˆç´”ç²‹é–¢æ•°ï¼‰
        - å‰¯ä½œç”¨ãŒãªã„
        - å…¥åŠ›ã¨å‡ºåŠ›ãŒæ˜ç¢º
        """
        return revenue - cost
    
    @staticmethod
    def is_profitable(revenue, cost):
        """
        é»’å­—ã‹ã©ã†ã‹åˆ¤å®š
        
        ç†ç”±:
        - ç´”ç²‹ãªãƒ­ã‚¸ãƒƒã‚¯
        - ãƒ¢ãƒƒã‚¯ä¸è¦ã§ãƒ†ã‚¹ãƒˆã§ãã‚‹
        """
        return DaifukuShop.calculate_profit(revenue, cost) > 0
    
    @staticmethod
    def calculate_roi(revenue, cost):
        """
        ROIï¼ˆæŠ•è³‡åç›Šç‡ï¼‰ã‚’è¨ˆç®—
        
        ç†ç”±:
        - è¨ˆç®—å¼ãŒè¤‡é›‘
        - å˜ä½“ã§ãƒ†ã‚¹ãƒˆã—ãŸã„
        """
        if cost == 0:
            return 0
        return (revenue - cost) / cost * 100


# ========================================
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä¾‹ï¼ˆpytestï¼‰
# ========================================
def test_calculate_profit():
    """åˆ©ç›Šè¨ˆç®—ã®ãƒ†ã‚¹ãƒˆ"""
    # ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦ã§ãƒ†ã‚¹ãƒˆã§ãã‚‹
    assert DaifukuShop.calculate_profit(1000, 600) == 400
    assert DaifukuShop.calculate_profit(500, 500) == 0
    assert DaifukuShop.calculate_profit(300, 400) == -100

def test_is_profitable():
    """é»’å­—åˆ¤å®šã®ãƒ†ã‚¹ãƒˆ"""
    assert DaifukuShop.is_profitable(1000, 600) == True
    assert DaifukuShop.is_profitable(500, 500) == False
    assert DaifukuShop.is_profitable(300, 400) == False

def test_calculate_roi():
    """ROIè¨ˆç®—ã®ãƒ†ã‚¹ãƒˆ"""
    assert DaifukuShop.calculate_roi(1000, 500) == 100.0
    assert DaifukuShop.calculate_roi(600, 400) == 50.0
    assert DaifukuShop.calculate_roi(100, 0) == 0  # ã‚¼ãƒ­é™¤ç®—å¯¾ç­–


# ãƒ¡ãƒªãƒƒãƒˆ:
# 1. ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‰ãšã«ãƒ†ã‚¹ãƒˆã§ãã‚‹
# 2. ãƒ¢ãƒƒã‚¯ãŒä¸è¦
# 3. ãƒ†ã‚¹ãƒˆãŒé«˜é€Ÿ
# 4. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒã‚·ãƒ³ãƒ—ãƒ«
```

---

## 4. 3ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Œå…¨æ¯”è¼ƒ

### ğŸ“Š ä½¿ã„åˆ†ã‘æ—©è¦‹è¡¨

| åˆ¤æ–­åŸºæº– | ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ |
|---------|-------------------|--------------|-------------------|
| **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã‚’ä½¿ã†ï¼Ÿ** | âœ… YES | âŒ NO | âŒ NO |
| **ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚’ä½¿ã†ï¼Ÿ** | âœ… YES | âœ… YES | âŒ NO |
| **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ï¼Ÿ** | âŒ NO | âœ… YES | âŒ NO |
| **å€‹åˆ¥ã®å‡¦ç†ï¼Ÿ** | âœ… YES | âŒ NO | âŒ NO |
| **ã‚¯ãƒ©ã‚¹å…¨ä½“ã®å‡¦ç†ï¼Ÿ** | âŒ NO | âœ… YES | âŒ NO |
| **è£œåŠ©çš„ãªè¨ˆç®—ï¼Ÿ** | âŒ NO | âŒ NO | âœ… YES |

### ğŸ’» å®Ÿè·µçš„ãªæ¯”è¼ƒã‚³ãƒ¼ãƒ‰

```python
class DaifukuShop:
    """3ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®ä½¿ã„åˆ†ã‘ãƒ‡ãƒ¢"""
    
    # ã‚¯ãƒ©ã‚¹å¤‰æ•°
    total_shops = 0
    base_price = 150
    
    def __init__(self, owner_name, stock):
        self.owner_name = owner_name
        self.stock = stock
        DaifukuShop.total_shops += 1
    
    # ==========================================
    # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: å€‹åˆ¥ã®åº—èˆ—ã®å‡¦ç†
    # ==========================================
    def sell(self, quantity):
        """
        ä½¿ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
        - ã“ã®åº—èˆ—ã®åœ¨åº«ã‚’æ¸›ã‚‰ã™
        - ã“ã®åº—èˆ—ã®åº—é•·åã‚’è¡¨ç¤º
        - å€‹åˆ¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œ
        """
        if quantity > self.stock:
            return False
        
        self.stock -= quantity
        price = quantity * DaifukuShop.base_price
        print(f"{self.owner_name}åº—é•·: {quantity}å€‹è²©å£²ï¼ˆÂ¥{price}ï¼‰")
        return True
    
    # ==========================================
    # ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: ã‚¯ãƒ©ã‚¹å…¨ä½“ã®å‡¦ç†
    # ==========================================
    @classmethod
    def get_stats(cls):
        """
        ä½¿ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
        - å…¨åº—èˆ—ã®çµ±è¨ˆã‚’å–å¾—
        - ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚’å‚ç…§
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
        """
        return f"ç·åº—èˆ—æ•°: {cls.total_shops}åº—"
    
    @classmethod
    def create_franchise(cls, owner_name):
        """
        ä½¿ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
        - æ¨™æº–çš„ãªåº—èˆ—ã‚’ä½œæˆ
        - ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰
        """
        return cls(owner_name, stock=20)  # cls()ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
    
    # ==========================================
    # ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰: è£œåŠ©çš„ãªè¨ˆç®—
    # ==========================================
    @staticmethod
    def calculate_tax(price):
        """
        ä½¿ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚‚ã‚¯ãƒ©ã‚¹ã‚‚ä½¿ã‚ãªã„
        - ç´”ç²‹ãªè¨ˆç®—
        - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
        """
        return int(price * 1.1)
    
    @staticmethod
    def validate_stock(stock):
        """
        ä½¿ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°:
        - æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
        - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆå‰ã«ãƒã‚§ãƒƒã‚¯
        """
        return isinstance(stock, int) and stock >= 0


# ==========================================
# ä½¿ã„åˆ†ã‘ã®å®Ÿä¾‹
# ==========================================

# ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: å€‹åˆ¥ã®å‡¦ç†
shop = DaifukuShop("ã†ã•ã†ã•", 20)
shop.sell(5)  # ã“ã®åº—èˆ—ã§è²©å£²

# ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: å…¨ä½“ã®å‡¦ç†ã‚„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
print(DaifukuShop.get_stats())  # å…¨åº—èˆ—ã®çµ±è¨ˆ
shop2 = DaifukuShop.create_franchise("ã‚‚ã¡ã‚‚ã¡")  # æ¨™æº–åº—èˆ—ã‚’ä½œæˆ

# ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰: è£œåŠ©çš„ãªè¨ˆç®—
price = 1000
tax_price = DaifukuShop.calculate_tax(price)
print(f"ç¨è¾¼: Â¥{tax_price}")

is_valid = DaifukuShop.validate_stock(20)
print(f"åœ¨åº«æ•°ã¯æœ‰åŠ¹ï¼Ÿ {is_valid}")
```

---

## 5. å®Ÿè·µä¾‹ï¼šãµã‚ãµã‚å¤§ç¦åº—

### ğŸ’» å®Ÿæˆ¦çš„ãªå®Œå…¨å®Ÿè£…

```python
"""
====================================
ğŸ° ãµã‚ãµã‚å¤§ç¦åº—
ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè·µä¾‹
====================================
"""

class DaifukuShop:
    """
    å¤§ç¦åº—ã‚¯ãƒ©ã‚¹
    ã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åŠ¹æœçš„ã«ä½¿ç”¨
    """
    
    # ã‚¯ãƒ©ã‚¹å¤‰æ•°
    total_shops = 0
    company_name = "ãµã‚ãµã‚å¤§ç¦æ ªå¼ä¼šç¤¾"
    
    # å®šæ•°
    BASE_PRICE = 150
    PREMIUM_RATE = 1.5
    DISCOUNT_RATE = 0.1
    TAX_RATE = 0.10
    
    def __init__(self, owner_name, location, stock):
        # å…¥åŠ›æ¤œè¨¼ï¼ˆã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ä½¿ç”¨ï¼‰
        if not self.validate_owner_name(owner_name):
            raise ValueError("åº—é•·åãŒä¸æ­£ã§ã™")
        
        if not self.validate_stock(stock):
            raise ValueError("åœ¨åº«æ•°ãŒä¸æ­£ã§ã™")
        
        self.owner_name = owner_name
        self.location = location
        self.stock = stock
        self.sold = 0
        self.revenue = 0
        
        DaifukuShop.total_shops += 1
    
    # ========================================
    # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰: å€‹åˆ¥ã®åº—èˆ—ã®å‡¦ç†
    # ========================================
    
    def sell(self, quantity, is_premium=False, discount=0):
        """è²©å£²å‡¦ç†"""
        if not self.validate_quantity(quantity):
            print("âŒ æ•°é‡ãŒä¸æ­£ã§ã™")
            return None
        
        if quantity > self.stock:
            print(f"âŒ åœ¨åº«ä¸è¶³ï¼ˆåœ¨åº«: {self.stock}å€‹ï¼‰")
            return None
        
        # ä¾¡æ ¼è¨ˆç®—ï¼ˆã‚¹ã‚¿ãƒ†ã‚£ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰ä½¿ç”¨ï¼‰
        base = self.BASE_PRICE
        if is_premium:
            base = self.calculate_premium_price(base)
        
        if discount > 0:
            base = self.calculate_discounted_price(base, discount)
        
        subtotal = quantity * base
        total = self.calculate_with_tax(subtotal)
        
        # åœ¨åº«æ›´æ–°
        self
